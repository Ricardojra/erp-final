<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema ERP para Gestão de Créditos de Reciclagem - Axel Consultoria">
    <meta name="author" content="Axel Consultoria">
    <title>Axel ERP - Gestão de Créditos de Reciclagem</title>
    
    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css">
    
    <!-- Favicon -->
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="assets/images/favicon.ico" type="image/x-icon">
</head>

<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar" role="navigation" aria-label="Menu principal">
        <div class="sidebar-header">
            <img src="assets/images/logo.png" alt="Axel ERP Logo" class="mb-2">
            <p class="text-light mb-0" style="font-size: 0.9rem; font-weight: 500;">Axel Consultoria</p>
        </div>
        
        <ul class="sidebar-menu" role="menubar">
            <li role="none">
                <a href="#" data-page-id="home" data-path="partials/inicio.html" class="active" 
                   onclick="loadContent('inicio'); return false;" role="menuitem">
                    <i class="fas fa-home" aria-hidden="true"></i>
                    <span>Home</span>
                </a>
            </li>
            
            <li role="none">
                <button class="submenu-toggle" data-bs-toggle="collapse" data-bs-target="#submenu-dashboard"
                    aria-expanded="false" aria-controls="submenu-dashboard" role="menuitem">
                    <i class="fas fa-chart-line" aria-hidden="true"></i>
                    <span>Dashboard</span>
                </button>
                <ul class="collapse submenu" id="submenu-dashboard" role="menu">
                    <li role="none">
                        <a href="#" onclick="loadContent('dashboard-material'); return false;" role="menuitem">
                            <i class="fas fa-chart-pie" aria-hidden="true"></i>
                            <span>DashBoard - Materiais</span>
                        </a>
                    </li>
                </ul>
            </li>
            
            <li role="none">
                <button class="submenu-toggle" data-bs-toggle="collapse" data-bs-target="#submenu-gestao"
                    aria-expanded="false" aria-controls="submenu-gestao" role="menuitem">
                    <i class="fas fa-boxes" aria-hidden="true"></i>
                    <span>Gestão de Estoque</span>
                </button>
                <ul class="collapse submenu" id="submenu-gestao" role="menu">
                    <li role="none">
                        <a href="#" onclick="loadContent('entrada-nfe'); return false;" role="menuitem">
                            <i class="fas fa-file-import" aria-hidden="true"></i>
                            <span>Entrada de NF-e</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('alterar-status'); return false;" role="menuitem">
                            <i class="fa-solid fa-pen-to-square" aria-hidden="true"></i>
                            <span>Alteração de Status</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('envio-lotes'); return false;" role="menuitem">
                            <i class="fas fa-truck" aria-hidden="true"></i>
                            <span>Envio de Lotes</span>
                        </a>
                    </li>
                </ul>
            </li>
            
            <li role="none">
                <button class="submenu-toggle" data-bs-toggle="collapse" data-bs-target="#submenu-clientes"
                    aria-expanded="false" aria-controls="submenu-clientes" role="menuitem">
                    <i class="fas fa-users" aria-hidden="true"></i>
                    <span>Gestão de Clientes</span>
                </button>
                <ul class="collapse submenu" id="submenu-clientes" role="menu">
                    <li role="none">
                        <a href="#/cadastro-clientes" onclick="loadContent('cadastro-clientes'); return false;" role="menuitem">
                            <i class="fas fa-user-plus" aria-hidden="true"></i>
                            <span>Cadastro de Clientes</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#/alteracao-cadastro" onclick="loadContent('alteracao-cadastro'); return false;" role="menuitem">
                            <i class="fas fa-user-edit" aria-hidden="true"></i>
                            <span>Alteração de Cadastro</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#/lista-clientes" onclick="loadContent('lista-clientes'); return false;" role="menuitem">
                            <i class="fas fa-list" aria-hidden="true"></i>
                            <span>Lista de Clientes</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#/consulta-estoque" onclick="loadContent('consulta-estoque'); return false;" role="menuitem">
                            <i class="fas fa-search" aria-hidden="true"></i>
                            <span>Consulta por Cliente</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#/gestao-documentacao" onclick="loadContent('gestao-documentacao'); return false;" role="menuitem">
                            <i class="fas fa-file-contract" aria-hidden="true"></i>
                            <span>Gestão de Documentação</span>
                        </a>
                    </li>
                </ul>
            </li>
            
            <li role="none">
                <button class="submenu-toggle" data-bs-toggle="collapse" data-bs-target="#submenu-vendas"
                    aria-expanded="false" aria-controls="submenu-vendas" role="menuitem">
                    <i class="fas fa-cash-register" aria-hidden="true"></i>
                    <span>Gestão de Vendas</span>
                </button>
                <ul class="collapse submenu" id="submenu-vendas" role="menu">
                    <li role="none">
                        <a href="#" onclick="loadContent('validar-lote-vendas'); return false;" role="menuitem">
                            <i class="fas fa-check-circle" aria-hidden="true"></i>
                            <span>Validar Lote de Vendas</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('registrar-venda'); return false;" role="menuitem">
                            <i class="fas fa-hand-holding-usd" aria-hidden="true"></i>
                            <span>Registrar Venda</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('historico-vendas'); return false;" role="menuitem">
                            <i class="fas fa-history" aria-hidden="true"></i>
                            <span>Histórico de Vendas</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('relatorio-vendas'); return false;" role="menuitem">
                            <i class="fas fa-chart-bar" aria-hidden="true"></i>
                            <span>Relatórios de Vendas</span>
                        </a>
                    </li>
                </ul>
            </li>
            
            <li role="none">
                <button class="submenu-toggle" data-bs-toggle="collapse" data-bs-target="#submenu-financeiro"
                    aria-expanded="false" aria-controls="submenu-financeiro" role="menuitem">
                    <i class="fas fa-wallet" aria-hidden="true"></i>
                    <span>Gestão Financeira</span>
                </button>
                <ul class="collapse submenu" id="submenu-financeiro" role="menu">
                    <li role="none">
                        <a href="#" onclick="loadContent('contas-receber'); return false;" role="menuitem">
                            <i class="fas fa-money-bill-wave" aria-hidden="true"></i>
                            <span>Contas a Receber</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('contas-pagar'); return false;" role="menuitem">
                            <i class="fas fa-credit-card" aria-hidden="true"></i>
                            <span>Contas a Pagar</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('fluxo-caixa'); return false;" role="menuitem">
                            <i class="fas fa-chart-line" aria-hidden="true"></i>
                            <span>Fluxo de Caixa</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('relatorios-financeiros'); return false;" role="menuitem">
                            <i class="fas fa-file-invoice-dollar" aria-hidden="true"></i>
                            <span>Relatórios Financeiros</span>
                        </a>
                    </li>
                    <li role="none">
                        <a href="#" onclick="loadContent('conciliacao-bancaria'); return false;" role="menuitem">
                            <i class="fas fa-university" aria-hidden="true"></i>
                            <span>Conciliação Bancária</span>
                        </a>
                    </li>
                </ul>
            </li>
            
            <li role="none">
                <a href="#" onclick="loadContent('configuracoes'); return false;" role="menuitem">
                    <i class="fas fa-cog" aria-hidden="true"></i>
                    <span>Configurações</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content" role="main">
        <header class="navbar-top d-flex justify-content-between align-items-center">
            <button class="btn btn-sm btn-light toggle-sidebar d-lg-none" 
                    aria-label="Alternar menu lateral" aria-expanded="false">
                <i class="fas fa-bars" aria-hidden="true"></i>
            </button>
            <h1 id="page-title" class="mb-0 ms-2 ms-lg-0 h5">Gestão Inteligente do Crédito de Reciclagem</h1>
            <div class="d-flex align-items-center">
                <span class="text-muted me-2">Bem-vindo!</span>
            </div>
        </header>
        
        <div id="content" role="region" aria-label="Conteúdo principal">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title h5">Bem-vindo ao Axel ERP</h2>
                    <p class="card-text">Selecione uma opção no menu lateral para começar.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer role="contentinfo">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2025 Axel Consultoria. Todos os direitos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Toast Container for Notifications -->
    <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

    <!-- Modal de Detalhes do Cliente -->
    <div class="modal fade" id="client-detail-modal" tabindex="-1" aria-labelledby="client-detail-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="client-detail-modal-label">
                        <i class="fas fa-user me-2"></i>Detalhes do Cliente
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="client-details-content">
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="fw-bold">Informações Básicas</h6>
                            <table class="table table-borderless">
                                <tr>
                                    <td class="fw-bold">CNPJ:</td>
                                    <td id="detail-cnpj">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Razão Social:</td>
                                    <td id="detail-razao-social">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Nome Fantasia:</td>
                                    <td id="detail-nome-fantasia">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Nome Contato:</td>
                                    <td id="detail-nome-contato">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Status:</td>
                                    <td id="detail-ativo">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Data Cadastro:</td>
                                    <td id="detail-data-cadastro">-</td>
                                </tr>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h6 class="fw-bold">Endereço e Contato</h6>
                            <table class="table table-borderless">
                                <tr>
                                    <td class="fw-bold">Endereço:</td>
                                    <td id="detail-endereco">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Cidade/UF:</td>
                                    <td id="detail-cidade-uf">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">CEP:</td>
                                    <td id="detail-cep">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Email:</td>
                                    <td id="detail-email-contato">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Telefone:</td>
                                    <td id="detail-telefone-contato">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">WhatsApp:</td>
                                    <td id="detail-whatsapp-numero">-</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12">
                            <h6 class="fw-bold">Materiais Recebidos</h6>
                            <p id="detail-materiais-vendidos" class="mb-0">-</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-primary" id="edit-client-modal-btn">
                        <i class="fas fa-edit me-1"></i>Editar Cliente
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" 
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" 
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="js/main.js"></script>

    <!-- Inline Scripts -->
    <script>
        // Toggle Sidebar em dispositivos móveis
        document.addEventListener('DOMContentLoaded', function() {
            const toggleButton = document.querySelector(".toggle-sidebar");
            const sidebar = document.querySelector(".sidebar");
            
            if (toggleButton && sidebar) {
                toggleButton.addEventListener("click", function () {
                    sidebar.classList.toggle("active");
                    const isExpanded = sidebar.classList.contains("active");
                    toggleButton.setAttribute("aria-expanded", isExpanded);
                });
            }

            // Lógica para marcar item ativo
            const sidebarLinks = document.querySelectorAll(".sidebar-menu li a");
            const submenuToggles = document.querySelectorAll(".sidebar-menu li .submenu-toggle");
            
            function setActiveLink(element) {
                document.querySelectorAll(".sidebar-menu li").forEach(li => li.classList.remove("active"));
                if (element) {
                    const parentLi = element.closest("li");
                    if (parentLi) {
                        parentLi.classList.add("active");
                        const parentSubmenu = parentLi.closest(".submenu");
                        if (parentSubmenu) {
                            const mainToggleLi = parentSubmenu.closest("li");
                            if (mainToggleLi) {
                                mainToggleLi.classList.add("active");
                            }
                        }
                    }
                }
            }

            sidebarLinks.forEach(link => {
                link.addEventListener("click", function (e) {
                    if (link.getAttribute("onclick")?.includes("loadContent")) {
                        setActiveLink(link);
                        const page = link.getAttribute("onclick").match(/'([^']+)'/)?.[1];
                        if (page && window.appUtils?.updatePageTitle) {
                            window.appUtils.updatePageTitle(page);
                        }
                        if (window.innerWidth < 992) {
                            sidebar?.classList.remove("active");
                            toggleButton?.setAttribute("aria-expanded", "false");
                        }
                    }
                });
            });

            submenuToggles.forEach(toggle => {
                toggle.addEventListener("click", function () {
                    // A classe "active" no <li> pai será gerenciada pelo clique nos links internos
                });
            });
        });
    </script>
</body>

</html>